(function(a){a.fn.prepareTransition=function(){return this.each(function(){var b=a(this);b.one("TransitionEnd webkitTransitionEnd transitionend oTransitionEnd",function(){b.removeClass("is-transitioning")});var c=["transition-duration","-moz-transition-duration","-webkit-transition-duration","-o-transition-duration"];var d=0;a.each(c,function(a,c){d=parseFloat(b.css(c))||d});if(d!=0){b.addClass("is-transitioning");b[0].offsetWidth}})}})(jQuery);function replaceUrlParam(e,r,a){var n=new RegExp("("+r+"=).*?(&|$)"),c=e;return c=e.search(n)>=0?e.replace(n,"$1"+a+"$2"):c+(c.indexOf("?")>0?"&":"?")+r+"="+a};if((typeof Shopify)==='undefined'){Shopify={};}
if(!Shopify.formatMoney){Shopify.formatMoney=function(cents,format){var value='',placeholderRegex=/\{\{\s*(\w+)\s*\}\}/,formatString=(format||this.money_format);if(typeof cents=='string'){cents=cents.replace('.','');}
function defaultOption(opt,def){return(typeof opt=='undefined'?def:opt);}
function formatWithDelimiters(number,precision,thousands,decimal){precision=defaultOption(precision,2);thousands=defaultOption(thousands,',');decimal=defaultOption(decimal,'.');if(isNaN(number)||number==null){return 0;}
number=(number/100.0).toFixed(precision);var parts=number.split('.'),dollars=parts[0].replace(/(\d)(?=(\d\d\d)+(?!\d))/g,'$1'+thousands),cents=parts[1]?(decimal+parts[1]):'';return dollars+cents;}
switch(formatString.match(placeholderRegex)[1]){case'amount':value=formatWithDelimiters(cents,2);break;case'amount_no_decimals':value=formatWithDelimiters(cents,0);break;case'amount_with_comma_separator':value=formatWithDelimiters(cents,2,'.',',');break;case'amount_no_decimals_with_comma_separator':value=formatWithDelimiters(cents,0,'.',',');break;}
return formatString.replace(placeholderRegex,value);};}
window.timber=window.timber||{};timber.initCache=function(){timber.cache={$html:$('html'),$body:$('body'),$navigation:$('#AccessibleNav'),$mobileSubNavToggle:$('.mobile-nav__toggle-btn'),$productImage:$('#ProductPhotoImg'),$optionSelector:$('.single-option-selector'),$recoverPasswordLink:$('#RecoverPassword'),$hideRecoverPasswordLink:$('#HideRecoverPasswordLink'),$recoverPasswordForm:$('#RecoverPasswordForm'),$customerLoginForm:$('#CustomerLoginForm'),$passwordResetSuccess:$('#ResetSuccess')};};timber.init=function(){FastClick.attach(document.body);timber.initCache();timber.accessibleNav();timber.drawersInit();timber.mobileNavToggle();timber.responsiveVideos();timber.loginForms();timber.setSelectorLabels();};timber.accessibleNav=function(){var $nav=timber.cache.$navigation,$allLinks=$nav.find('a'),$topLevel=$nav.children('li').find('a'),$parents=$nav.find('.site-nav--has-dropdown'),$subMenuLinks=$nav.find('.site-nav__dropdown').find('a'),activeClass='nav-hover',focusClass='nav-focus';$parents.on('mouseenter touchstart',function(evt){var $el=$(this);if(!$el.hasClass(activeClass)){evt.preventDefault();evt.stopImmediatePropagation();}
showDropdown($el);});$parents.on('mouseleave',function(){hideDropdown($(this));});$subMenuLinks.on('touchstart',function(evt){evt.stopImmediatePropagation();});$allLinks.focus(function(){handleFocus($(this));});$allLinks.blur(function(){removeFocus($topLevel);});function handleFocus($el){var $subMenu=$el.next('ul'),hasSubMenu=$subMenu.hasClass('sub-nav')?true:false,isSubItem=$('.site-nav__dropdown').has($el).length,$newFocus=null;if(!isSubItem){removeFocus($topLevel);addFocus($el);}else{$newFocus=$el.closest('.site-nav--has-dropdown').find('a');addFocus($newFocus);}}
function showDropdown($el){$el.addClass(activeClass);setTimeout(function(){timber.cache.$body.on('touchstart',function(){hideDropdown($el);});},250);}
function hideDropdown($el){$el.removeClass(activeClass);timber.cache.$body.off('touchstart');}
function addFocus($el){$el.addClass(focusClass);}
function removeFocus($el){$el.removeClass(focusClass);}};timber.drawersInit=function(){timber.LeftDrawer=new timber.Drawers('NavDrawer','left');{%if settings.cart_type=='drawer'%}
timber.RightDrawer=new timber.Drawers('CartDrawer','right',{'onDrawerOpen':ajaxCart.load});{%endif%}};timber.mobileNavToggle=function(){var $toggleBtns=timber.cache.$mobileSubNavToggle;$toggleBtns.attr('aria-expanded','false');$toggleBtns.each(function(i,el){var $el=$(el);$el.attr('aria-controls',$el.attr('data-aria-controls'));});$toggleBtns.on('click',function(){var $el=$(this);var currentlyExpanded=$el.attr('aria-expanded');var toggleState=false;if(currentlyExpanded==='true'){$el.attr('aria-expanded','false');}else{$el.attr('aria-expanded','true');toggleState=true;}
$el.closest('.mobile-nav__has-sublist').toggleClass('mobile-nav--expanded',toggleState);});};timber.getHash=function(){return window.location.hash;};timber.productPage=function(options){var moneyFormat=options.money_format,variant=options.variant,selector=options.selector;var $productImage=$('#ProductPhotoImg'),$addToCart=$('#AddToCart'),$productPrice=$('#ProductPrice'),$comparePrice=$('#ComparePrice'),$priceWrapper=$('.product-single__price--wrapper'),$quantityElements=$('.js-quantity-selector, label + .js-qty'),$addToCartText=$('#AddToCartText');console.log(theme)
if(variant){if(variant.featured_image){var newImg=variant.featured_image,el=$productImage[0];Shopify.Image.switchImage(newImg,el,theme.showVariantImage);}
if(variant.available){$addToCart.removeClass('disabled').prop('disabled',false);$addToCartText.html({{'products.product.add_to_cart'|t|json}});$quantityElements.show();}else{$addToCart.addClass('disabled').prop('disabled',true);$addToCartText.html({{'products.product.sold_out'|t|json}});$quantityElements.hide();}
$productPrice.html(Shopify.formatMoney(variant.price,moneyFormat).replace(/((\,00)|(\.00))$/g,'')).show();if(variant.compare_at_price>variant.price){$comparePrice.html(Shopify.formatMoney(variant.compare_at_price,moneyFormat).replace(/((\,00)|(\.00))$/g,''));$priceWrapper.show();$productPrice.addClass('on-sale');}else{$priceWrapper.hide();$productPrice.removeClass('on-sale');}}else{$addToCart.addClass('disabled').prop('disabled',true);$addToCartText.html({{'products.product.unavailable'|t|json}});$quantityElements.hide();}};timber.setSelectorLabels=function(){if(timber.cache.$optionSelector.length&&timber.cache.$html.hasClass('supports-pointerevents')){timber.cache.$optionSelector.each(function(){timber.updateSelectorLabel(null,this);});timber.cache.$optionSelector.on('change',timber.updateSelectorLabel);}}
timber.updateSelectorLabel=function(evt,element){var $label,renderedLabel,selectedVariant;var $select=evt?$(evt.target):$(element);$label=$select.prev('label').find('.dropdown-label--active');selectedVariant=$select.find('option:selected').text();$label.html(' '+selectedVariant);};timber.responsiveVideos=function(){var $iframeVideo=$('iframe[src*="youtube.com/embed"], iframe[src*="player.vimeo"]');var $iframeReset=$iframeVideo.add('iframe#admin_bar_iframe');$iframeVideo.each(function(){$(this).wrap('<div class="video-wrapper"></div>');});$iframeReset.each(function(){this.src=this.src;});};timber.loginForms=function(){function showRecoverPasswordForm(){timber.cache.$recoverPasswordForm.show();timber.cache.$customerLoginForm.hide();}
function hideRecoverPasswordForm(){timber.cache.$recoverPasswordForm.hide();timber.cache.$customerLoginForm.show();}
timber.cache.$recoverPasswordLink.on('click',function(evt){evt.preventDefault();showRecoverPasswordForm();});timber.cache.$hideRecoverPasswordLink.on('click',function(evt){evt.preventDefault();hideRecoverPasswordForm();});if(timber.getHash()=='#recover'){showRecoverPasswordForm();}};timber.resetPasswordSuccess=function(){timber.cache.$passwordResetSuccess.show();};timber.Drawers=(function(){var Drawer=function(id,position,options){var defaults={close:'.js-drawer-close',open:'.js-drawer-open-'+position,openClass:'js-drawer-open',dirOpenClass:'js-drawer-open-'+position};this.$nodes={parent:$('body, html'),page:$('#PageContainer'),moved:$('.is-moved-by-drawer')};this.config=$.extend(defaults,options);this.position=position;this.$drawer=$('#'+id);if(!this.$drawer.length){return false;}
this.drawerIsOpen=false;this.init();};Drawer.prototype.init=function(){var $openBtn=$(this.config.open);$openBtn.attr('aria-expanded','false');$openBtn.on('click',$.proxy(this.open,this));this.$drawer.find(this.config.close).on('click',$.proxy(this.close,this));};Drawer.prototype.open=function(evt){var externalCall=false;if(this.drawerIsOpen){return;}
if(evt){evt.preventDefault();}else{externalCall=true;}
if(evt&&evt.stopPropagation){evt.stopPropagation();this.$activeSource=$(evt.currentTarget);}
if(this.drawerIsOpen&&!externalCall){return this.close();}
this.$nodes.moved.addClass('is-transitioning');this.$drawer.prepareTransition();this.$nodes.parent.addClass(this.config.openClass+' '+this.config.dirOpenClass);this.drawerIsOpen=true;Drawer.prototype.trapFocus(this.$drawer,'drawer_focus');if(this.config.onDrawerOpen&&typeof(this.config.onDrawerOpen)=='function'){if(!externalCall){this.config.onDrawerOpen();}}
if(this.$activeSource&&this.$activeSource.attr('aria-expanded')){this.$activeSource.attr('aria-expanded','true');}
this.bindEvents();};Drawer.prototype.close=function(){if(!this.drawerIsOpen){return;}
$(document.activeElement).trigger('blur');this.$nodes.moved.prepareTransition({disableExisting:true});this.$drawer.prepareTransition({disableExisting:true});this.$nodes.parent.removeClass(this.config.dirOpenClass+' '+this.config.openClass);this.drawerIsOpen=false;Drawer.prototype.removeTrapFocus(this.$drawer,'drawer_focus');if(this.$activeSource&&this.$activeSource.attr('aria-expanded')){this.$activeSource.attr('aria-expanded','false');}
this.unbindEvents();};Drawer.prototype.trapFocus=function($container,eventNamespace){var eventName=eventNamespace?'focusin.'+eventNamespace:'focusin';$container.attr('tabindex','-1');$container.focus();$(document).on(eventName,function(evt){if($container[0]!==evt.target&&!$container.has(evt.target).length){$container.focus();}});};Drawer.prototype.removeTrapFocus=function($container,eventNamespace){var eventName=eventNamespace?'focusin.'+eventNamespace:'focusin';$container.removeAttr('tabindex');$(document).off(eventName);};Drawer.prototype.bindEvents=function(){this.$nodes.page.on('touchmove.drawer',function(){return false;});this.$nodes.page.on('click.drawer',$.proxy(function(){this.close();return false;},this));this.$nodes.parent.on('keyup.drawer',$.proxy(function(evt){if(evt.keyCode===27){this.close();}},this));};Drawer.prototype.unbindEvents=function(){this.$nodes.page.off('.drawer');this.$nodes.parent.off('.drawer');};return Drawer;})();$(timber.init);